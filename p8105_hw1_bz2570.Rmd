---
title: "p8105_hw1_bz2570"
author: "Boran Zhai"
date: "2025-09-18"
output: github_document
---
## Problem 1
#### Load the library and the data
```{r}
library(moderndive)
library(tidyverse)
library(ggplot2)
```
```{r}
data("early_january_weather")
```

#### Write a short description of the dataset (inline R code)
The dataset early_january_weather contains `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns, with the following variables: `r paste(names(early_january_weather), collapse = ", ")`. <br/> 
For some key variables:<br/>
Temperature: Range from `r min(early_january_weather$temp)` to `r max(early_january_weather$temp)` with an approximate mean of `r round(mean(early_january_weather$temp),2)`;<br/> 
Humidity: Range from `r min(early_january_weather$humid)` to `r max(early_january_weather$humid)` with an approximate mean of `r round(mean(early_january_weather$humid),2)`;<br/> 
Wind speed: Ranges from `r min(early_january_weather$wind_speed)` to `r max(early_january_weather$wind_speed)` with an approximate mean of `r round(mean(early_january_weather$wind_speed),2)`;<br/> 
Time_hour: Falls between `r min(early_january_weather$time_hour)` to `r max(early_january_weather$time_hour)`.

#### Make a scatterplot of temp (y) vs time_hour (x); color points using the humid variable 
```{r}
Sys.setlocale("LC_TIME","English")
scatterplot <- ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point(size = 1) +        
  scale_color_gradient(low = "blue", high = "red") + 
  labs(x = "Time_hour", y = "Temperature", color = "Humidity") +
  theme_minimal()
print(scatterplot)

ggsave(
  filename = "D:/zbr/p8105_hw1_bz2570/scatterplot.png", 
  plot = scatterplot
)
```
##### Description
The scatter plot illustrates the relationship between temperature(y-axis) and time_hour(x-axis) for the early January.It shows a moderate overall rise of temperature from January 1st to 15th, with daily minimum and maximum temperatures gradually increasing. This pattern was temporarily broken by two anomalous periods around January 7th-8th and January 15th. Besides, daily temperatures follow a regular and wave-like pattern. Within each day, lower temperatures usually occur overnight and in the early morning, while higher temperatures are observed during midday and afternoon hours. 
Additionally, each point colored according to the humidity level, using a blue-to-red gradient where blue represents low humidity and red represents high humidity. However, there is an inverse relationship between temperature and humidity: warmer times always have lower humidity(blue) and colder times have higher humidity(red). 

## Problem 2
#### Create a data frame
```{r}
set.seed(917)
df <- data.frame(
  random_sample = rnorm(10),
  logical_vector = rnorm(10) > 0,
  char_vector = letters[1:10], 
  factor_vector = factor(rep(c("Small", "Medium", "Large"), length.out = 10)) 
)
str(df)
```

#### Try to take the mean of each variable and explain
```{r}
mean_random <- mean(pull(df, random_sample))
mean_logical <- mean(pull(df, logical_vector))
mean_char <- mean(pull(df, char_vector))
mean_factor <- mean(pull(df, factor_vector))
cat(" The mean of random sample is",mean_random,"\n",
    "The mean of logical vector is",mean_logical,"\n",
    "The mean of character vector  is",mean_char,"\n",
    "The mean of factor vector is",mean_factor
)
```
##### Description
Taking the mean works on numeric(random_stample) and logical variable (logical_vector) because logical vectors are automatically converted to numbers (TRUE = 1, FALSE = 0). However, it doesn't work on character (char_vector) and factor (factor_vector) variables, which generate NA with a warning.<br/>

#### Applies the as.numeric function
logical_as_numeric <- as.numeric(pull(df, logical_vector)) <br/>
char_as_numeric <- as.numeric(pull(df, char_vector)) <br/>
factor_as_numeric <- as.numeric(pull(df, factor_vector)) <br/>

After applying the as.numeric function, these vector will be changed:<br/>
*Logical vector convert to 1 (TRUE) or 0 (FALSE),so it will have mean;<br/>
*Character vector still returns NA with warning for all values because letters cannot be interpreted as numbers, and it won't have mean;<br/>
*Factor vector return to integers corresponding to factor levels,such as "1""2""3" for "Small""Medium""Large", not the original numeric values. So it will have mean, but mean is meaningless.<br/>

#### Does this help explain what happens when you try to take the mean?
Yes, applying as.numeric() explains the behavior of the mean() function. The mean calculation works for the numeric and logical vectors because they can be directly or implicitly converted to meaningful numbers. However, it doesn't work on the character and factor vectors. For the character vector, it always return NA because the text characters have no numerical interpretation. While the factor vector can be converted to numbers, these values represent the integer codes of its categories like "1","2","3"and so on with no quantitative meaning. This confirms that mean function requires numeric data and only automatically handles the logical-to-numeric coercion.